<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Food Audit</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="bg"></div>

  <!-- Top Bar -->
  <header class="topbar">
    <div class="brandText">
      <div class="title">Food Audit</div>
      <div class="sub">Taos 3158</div>
    </div>

    <nav class="actions">
      <a class="btn" href="index.html">Home</a>
      <a class="btn primary" href="history.html">Audit History</a>
    </nav>
  </header>

  <!-- Main -->
  <main class="wrap">
    <section class="card">
      <header class="cardHeader">
        <h1>Food Audit</h1>
        <p>Complete Weekly</p>
      </header>

      <div class="cardBody">
        <form id="auditForm" class="stack">

          <!-- REQUIRED FOR HISTORY -->
          <input type="hidden" name="audit_type" value="Food Audit" />

          <!-- Header fields -->
          <div class="panel">
            <div class="grid2">
              <div class="field">
                <label>Auditor (optional)</label>
                <input name="auditor" placeholder="Your name" />
              </div>

              <div class="field">
                <label>Audit Date</label>
                <input type="date" name="audit_date" id="audit_date" />
              </div>

              <div class="field">
                <label>Time (optional)</label>
                <input type="time" name="audit_time" />
              </div>

              <div class="field">
                <label>Notes (optional)</label>
                <input
                  name="header_notes"
                  placeholder="Shift / manager on duty / anything important"
                />
              </div>
            </div>
          </div>

          <!-- QUESTIONS GO HERE -->
          <div id="questions" class="stack"></div>

          <!-- Submit -->
          <div class="panel">
            <div class="row">
              <a class="btn" href="index.html">Cancel</a>
              <button class="btn primary" type="submit">Submit</button>
            </div>
            <p class="muted" style="margin-top:10px;">
              Saved locally on this device. Email to store management when finished.
            </p>
          </div>

        </form>
      </div>
    </section>

    <div class="foot">Store 3158 â€¢ Food Audit</div>
  </main>

  <!-- Scripts -->
  <script src="app.js"></script>
  <script>
    // Default date = today
    const today = new Date();
    document.getElementById("audit_date").value =
      today.toISOString().slice(0, 10);

    // Build the audit (ORDER MATCHES YOUR PHOTOS)
    const items = [

      section("Trash"),
      yn("Outside trash not overflowing?"),

      section("Restrooms"),
      yn("Restrooms clean / restroom checklist in use?"),
      yn("Restrooms stocked? (toilet paper, soap, paper towels)"),

      section("Uniforms"),
      yn("Company uniform policy being followed?"),
      yn("BreakTime approved hair restraint in use?"),

      section("Coffee"),
      yn("Sugar tower clean & stocked?"),
      yn("All counters organized, tidy, clutter free?"),
      yn("Creamers stocked? (Bulk and Singles)"),
      yn("Cappuccino machine clean and all flavors available?"),

      section("Tea"),
      yn("Tea available and timed correctly?"),

      section("Soda Fountain"),
      yn("Nozzles clean?"),
      yn("Back splash free from soda spillage?"),
      yn("Mats in use?"),
      yn("Cups and lids stocked?"),

      section("Slushies"),
      yn("Filled, clean, and ready to serve?"),

      section("Hunt Bros Pizza"),
      yn("Product available and timed correctly?"),
      yn("Pizza case is clean?"),
      yn("Make table rotated / dated correctly? (In & out of date shown)"),
      yn("Toppings chart posted and being followed?"),

      section("Food Island"),
      yn("Counters clean & tidy?"),
      yn("All products offered available and timed correctly?"),

      section("Kitchen"),
      yn("3 compartment sink used correctly? (wash / rinse / sanitize)"),
      yn("BreakTime approved food products only?"),
      yn("Probe thermometer available and in use?"),
      yn("Hand washing procedure being followed?"),
      yn("BIBs not exceeding 30 days past use-by date?"),
      yn("Waste sheet in use?"),
      yn("Product not stored in totes in cooler/freezer?"),
      yn("Cooler / freezer temps within guidelines?"),

      section("Open Air Cooler"),
      yn("No out-of-dates / product being rotated?"),

      section("Conclusion"),
      notesOnly("Notes"),
      notesOnly("Score"),
      yn("MOD available to do a walkthrough with auditor?")
    ];

    document.getElementById("questions").innerHTML = items.join("");

    // Save audit
    document.getElementById("auditForm").addEventListener("submit", (e) => {
      e.preventDefault();
      saveAuditFromForm(e.target);
      window.location.href = "history.html";
    });
  </script>
</body>
</html>
